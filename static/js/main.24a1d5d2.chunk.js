(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{114:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2YPQ0"}},115:function(e,t,n){e.exports={item:"Post_item__15Ws3"}},121:function(e,t,n){},122:function(e,t,n){},21:function(e,t,n){e.exports={nav:"Navbar_nav__2z06N",item:"Navbar_item__37l3U",activeLink:"Navbar_activeLink__3t4JI"}},245:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),a=n(50),i=n.n(a),o=(n(121),n(3)),c=n(4),u=n(6),l=n(7),d=(n(122),n(21)),j=n.n(d),p=n(11),b=n(1);console.log(j.a);var h="active",g=("".concat(j.a.item," ").concat(h),function(){return Object(b.jsxs)("nav",{className:j.a.nav,children:[Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(p.b,{to:"/profile",activeClassName:j.a.activeLink,children:"Profile"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(p.b,{to:"/dialogs",activeClassName:j.a.activeLink,children:"Messages"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(p.b,{to:"/users",activeClassName:j.a.activeLink,children:"Users"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)("a",{href:"/news",children:"News"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)("a",{href:"/music",children:"Music"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)("a",{href:"/settings",children:"Settings"})})]})}),f=n(9),O=n(13),m=n(2),v="SEND-MESSAGE",x={dialogs:[{id:1,name:"Dmitriy"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}],newMessageBody:"it-kamasutra.com"},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var n=t.newMessageBody;return Object(m.a)(Object(m.a)({},e),{},{messages:[].concat(Object(O.a)(e.messages),[{id:7,message:n}])});default:return e}},w=n(33),_=n.n(w),S=function(e){var t="/dialogs/"+e.id;return Object(b.jsx)("div",{className:_.a.dialog,children:Object(b.jsx)(p.b,{to:t,children:e.name})})},y=function(e){return Object(b.jsx)("div",{className:_.a.message,children:e.message})},C=n(24),k=n(26),I=k.a().shape({message:k.b().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),N=n(22),U=n(39),E=n(74),T=n.n(E),A=["label"],F=function(e){var t=e.label,n=Object(U.a)(e,A),s=Object(C.c)(n),r=Object(N.a)(s,2),a=r[0],i=r[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{children:t}),Object(b.jsx)("div",{children:Object(b.jsx)(C.a,Object(m.a)(Object(m.a)({className:i.touched&&i.error?T.a.error:null},a),n))}),i.touched&&i.error?Object(b.jsx)("div",{className:T.a.textError,children:i.error}):null]})},L=function(e){var t=e.dialogsPages,n=t.dialogs.map((function(e){return Object(b.jsx)(S,{name:e.name,id:e.id})})),s=t.messages.map((function(e){return Object(b.jsx)(y,{message:e.message})}));return Object(b.jsxs)("div",{className:_.a.dialogs,children:[Object(b.jsx)("div",{className:_.a.dialogsItems,children:n}),Object(b.jsxs)("div",{className:_.a.messages,children:[Object(b.jsx)("div",{children:s}),Object(b.jsx)("div",{children:Object(b.jsx)(C.b,{initialValues:{message:""},onSubmit:function(t){console.log(t),e.sendMessage(t.message)},validationSchema:I,children:function(e){e.values,e.errors,e.touched,e.handleChange,e.handleBlur;var t=e.handleSubmit,n=(e.isSubmitting,e.isValid),s=e.dirty;return Object(b.jsxs)("form",{onSubmit:t,children:[Object(b.jsx)("div",{children:Object(b.jsx)(F,{as:"textarea",type:"text",name:"message",label:"Add posts"})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",disabled:!n&&!s,children:"Send"})})]})}})})]})]})},z=n(12),R=function(e){return{isAuth:e.authR.isAuth}},D=n(16),M=Object(D.c)(Object(z.b)((function(e){return{newMessageBody:e.dialogsPages.newMessageBody,dialogsPages:e.dialogsPages}}),(function(e){return{sendMessage:function(t){e({type:v,newMessageBody:t})}}})),(function(e){var t=function(t){Object(u.a)(s,t);var n=Object(l.a)(s);function s(){return Object(o.a)(this,s),n.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return this.props.isAuth?Object(b.jsx)(e,Object(m.a)({},this.props)):Object(b.jsx)(f.a,{to:"/login"})}}]),s}(r.a.Component);return Object(z.b)(R)(t)}))(L),B=n(69),G=n.n(B),V=n.p+"static/media/user.a45dac52.png",q=n(54),H=n(58),Z=n.n(H),W=n(75),X=n.n(W),Y=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.onPageChanged,a=e.currentPage,i=e.portionSize,o=void 0===i?10:i,c=Math.ceil(t/n),u=[],l=1;l<=c;l++)u.push(l);var d=Math.ceil(c/o),j=Object(s.useState)(1),p=Object(N.a)(j,2),h=p[0],g=p[1],f=(h-1)*o+1,O=h*o;return Object(b.jsxs)("div",{className:X()(Z.a.paginator),children:[h>1&&Object(b.jsx)("button",{onClick:function(){g(h-1)},children:"PREV"}),u.filter((function(e){return e<=O&&e>=f})).map((function(e){return Object(b.jsx)("span",{className:X()(Object(q.a)({},Z.a.selectedPage,a===e),Z.a.pageNumber),onClick:function(){return r(e)},children:e},e)})),d>h&&Object(b.jsx)("button",{onClick:function(){g(h+1)},children:"NEXT"})]})},J=n(113),Q=Object(J.a)((function(e){return e.userPages.users}),(function(e){return e.filter((function(e){return!0}))})),K=function(e){return e.userPages.pageSize},$=function(e){return e.userPages.totalUserCount},ee=function(e){return e.userPages.currentPage},te=function(e){return e.userPages.isFetching},ne=function(e){return e.userPages.followingInProgress},se=["user"],re=function(e){var t=e.user,n=Object(U.a)(e,se),s=t;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("div",{children:Object(b.jsx)(p.b,{to:"/profile/"+s.id,children:Object(b.jsx)("img",{src:s.photos.small=V,className:G.a.userPhoto})})}),Object(b.jsx)("div",{children:s.followed?Object(b.jsx)("button",{disabled:n.followingInProgress.some((function(e){return e===s.id})),onClick:function(){n.toggleFollowingProgress(!0,s.id),n.unfollow(s.id)},children:"Unfollow"}):Object(b.jsx)("button",{disabled:n.followingInProgress.some((function(e){return e===s.id})),onClick:function(){n.toggleFollowingProgress(!0,s.id),n.follow(s.id)},children:"Follow"})})]}),Object(b.jsxs)("span",{children:[Object(b.jsx)("div",{children:s.name}),Object(b.jsx)("div",{children:s.status})]}),Object(b.jsxs)("span",{children:[Object(b.jsx)("div",{children:"u.location.country"}),Object(b.jsx)("div",{children:"u.location.city"})]})]})},ae=["totalUserCount","pageSize","onPageChanged","currentPage"],ie=function(e){var t=e.totalUserCount,n=e.pageSize,r=e.onPageChanged,a=e.currentPage,i=Object(U.a)(e,ae);return Object(b.jsxs)("div",{children:[Object(b.jsx)(Y,{totalItemsCount:t,pageSize:n,onPageChanged:r,currentPage:a}),Object(b.jsx)("div",{children:i.users.map((function(e){return Object(s.createElement)(re,Object(m.a)(Object(m.a)({user:e},i),{},{key:e.id}))}))})]})},oe=n(14),ce=n.n(oe),ue=n(25),le=n(70).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0",headers:{"API-KEY":"04f314d1-e1c2-405c-90c5-59a7352bc31c"}}),de={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return le.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return le.post("follow/".concat(e))},unfollow:function(e){return le.delete("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete method.Please, use profileAPI object"),he.getProfile(e)}},je=function(){return le.get("auth/me")},pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return le.post("auth/login",{email:e,password:t,rememberMe:n})},be=function(){return le.delete("auth/login")},he={getProfile:function(e){return le.get("profile/"+e)},getStatus:function(e){return le.get("profile/status/"+e)},updateStatus:function(e){return le.put("profile/status/",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),le.post("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}},ge="FOLLOW",fe="UNFOLLOW",Oe="setUsers",me="SET_CURRENT_PAGE",ve="TOTAL_COUNT_PAGE",xe="TOGGLE_IS_FETCHING",Pe="TOGGLE_IS_FOLLOWING_PROGRESS",we={users:[],pageSize:5,totalUserCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},_e=function(e){return{type:ge,UserId:e}},Se=function(e){return{type:fe,UserId:e}},ye=function(e){return{type:me,currentPage:e}},Ce=function(e){return{type:xe,isFetching:e}},ke=function(e,t){return{type:Pe,isFollowFetching:e,UserId:t}},Ie=function(){var e=Object(ue.a)(ce.a.mark((function e(t,n,s,r){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ke(!0,r)),e.next=3,s(r);case 3:0==e.sent.data.resultCode&&t(n(r)),t(ke(!1,r));case 6:case"end":return e.stop()}}),e)})));return function(t,n,s,r){return e.apply(this,arguments)}}(),Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.UserId?Object(m.a)(Object(m.a)({},e),{},{followed:!0}):e}))});case fe:return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.UserId?Object(m.a)(Object(m.a)({},e),{},{followed:!1}):e}))});case Oe:return Object(m.a)(Object(m.a)({},e),{},{users:t.users});case me:return Object(m.a)(Object(m.a)({},e),{},{currentPage:t.currentPage});case xe:return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching});case Pe:return Object(m.a)(Object(m.a)({},e),{},{followingInProgress:t.isFollowFetching?[].concat(Object(O.a)(e.followingInProgress),[t.UserId]):Object(O.a)(e.followingInProgress.filter((function(e){return!t.UserId})))});case ve:return Object(m.a)(Object(m.a)({},e),{},{totalUserCount:t.totalUserCount});default:return e}},Ue=n.p+"static/media/spinner.34be5cf0.svg",Ee=function(e){return Object(b.jsx)("div",{style:{backgroundColor:"white"},children:Object(b.jsx)("img",{src:Ue})})},Te=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[this.props.isFetching?Object(b.jsx)(Ee,{}):null,Object(b.jsx)(ie,{pageSize:this.props.pageSize,totalUserCount:this.props.totalUserCount,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress})]})}}]),n}(r.a.Component),Ae=Object(D.c)(Object(z.b)((function(e){return{users:Q(e),pageSize:K(e),totalUserCount:$(e),currentPage:ee(e),isFetching:te(e),followingInProgress:ne(e)}}),{follow:function(e){return function(t){Ie(t,_e,de.follow.bind(de),e)}},unfollow:function(e){return function(t){Ie(t,Se,de.unfollow.bind(de),e)}},setCurrentPage:ye,toggleFollowingProgress:ke,getUsers:function(e,t){return function(n){n(Ce(!0)),n(ye(e)),de.getUsers(e,t).then((function(e){var t,s;n(Ce(!1)),n((t=e.items,{type:Oe,users:t})),n((s=e.totalCount,{type:ve,totalUserCount:s}))}))}}}))(Te),Fe="ADD-POST",Le="SET-USER-PROFILE",ze="SET-STATUS",Re="DELETE_POST",De="SAVE_PHOTO_SUCCESS",Me={posts:[{id:1,message:"Hi, how are you",likesCount:12},{id:2,message:"It's my first post",likesCount:20}],profile:null,status:""},Be=function(e){return{type:ze,status:e}},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:var n={id:5,message:t.message,likesCount:0};return Object(m.a)(Object(m.a)({},e),{},{posts:[].concat(Object(O.a)(e.posts),[n])});case Re:return Object(m.a)(Object(m.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.id}))});case Le:return Object(m.a)(Object(m.a)({},e),{},{profile:t.profile});case ze:return Object(m.a)(Object(m.a)({},e),{},{status:t.status});case De:return Object(m.a)(Object(m.a)({},e),{},{profile:Object(m.a)(Object(m.a)({},e.profile),{},{photos:t.photos})});default:return e}},Ve=(n(245),n(114)),qe=n.n(Ve),He=(r.a.Component,function(e){var t=Object(s.useState)(!1),n=Object(N.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(e.status),o=Object(N.a)(i,2),c=o[0],u=o[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return Object(b.jsxs)("div",{children:[!r&&Object(b.jsx)("div",{children:Object(b.jsx)("span",{onDoubleClick:function(){a(!0)},children:e.status||"-------"})}),r&&Object(b.jsx)("div",{children:Object(b.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),e.updateStatus(c)},value:c})})]})}),Ze=function(e){if(!e.profile)return Object(b.jsx)(Ee,{});return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:"https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&h=350"})}),Object(b.jsxs)("div",{className:qe.a.descriptionBlock,children:[Object(b.jsx)("img",{src:e.profile.photos.large||V}),e.isOwner&&Object(b.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),Object(b.jsx)(He,{status:e.status,updateStatus:e.updateStatus})]})]})},We=n(76),Xe=n.n(We),Ye=n(115),Je=n.n(Ye),Qe=function(e){return Object(b.jsxs)("div",{className:Je.a.item,children:[Object(b.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbNslP7-_P7jz5MrT5yhW14y_IzBDbZZT0ag&usqp=CAU"}),e.message,Object(b.jsx)("div",{children:Object(b.jsx)("span",{children:e.likesCount})})]})},Ke=k.a().shape({posts:k.b().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),$e=function(e){console.log("Render");var t=e.posts.map((function(e){return Object(b.jsx)(Qe,{message:e.message,likesCount:e.likesCount})}));return Object(b.jsxs)("div",{className:Xe.a.postBlock,children:[Object(b.jsx)("div",{children:Object(b.jsx)(C.b,{initialValues:{posts:""},onSubmit:function(t){e.addPost(t.posts)},validationSchema:Ke,children:function(e){e.values,e.errors,e.touched,e.handleChange,e.handleBlur;var t=e.handleSubmit,n=(e.isSubmitting,e.isValid),s=e.dirty;return Object(b.jsxs)("form",{onSubmit:t,children:[Object(b.jsx)("div",{children:Object(b.jsx)(F,{as:"textarea",name:"posts",type:"text",label:"posts"})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",disabled:!n&&!s,children:"Send"})})]})}})}),Object(b.jsx)("div",{className:Xe.a.posts,children:t})]})},et=Object(z.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:Fe,message:e}}(t))}}}))($e),tt=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(Ze,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto}),Object(b.jsx)(et,{})]})},nt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),e||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),e||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(b.jsx)(tt,Object(m.a)(Object(m.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))}}]),n}(r.a.Component),st=Object(D.c)(Object(z.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.authR.isAuth,authorizedUserId:e.authR.userId}}),{getUserProfile:function(e){return function(){var t=Object(ue.a)(ce.a.mark((function t(n){var s;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de.getProfile(e);case 2:s=t.sent,n((r=s.data,{type:Le,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(ue.a)(ce.a.mark((function t(n){var s;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,he.getStatus(e);case 2:s=t.sent,n(Be(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(t){he.updateStatus(e).then((function(n){0===n.data.resultCode&&t(Be(e))}))}},savePhoto:function(e){return function(){var t=Object(ue.a)(ce.a.mark((function t(n){var s;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,he.savePhoto(e);case 2:s=t.sent,n((r=s.data.data.photos,{type:De,photos:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}}),f.f)(nt),rt=n(77),at=n.n(rt),it=function(e){return Object(b.jsxs)("header",{className:at.a.header,children:[Object(b.jsx)("img",{src:"https://www.freelogodesign.org/Content/img/logo-ex-7.png"}),Object(b.jsx)("div",{className:at.a.loginBlock,children:e.isAuth?Object(b.jsxs)("div",{children:[e.login,"-",Object(b.jsx)("button",{onClick:e.logout,children:"logout"})]}):Object(b.jsx)(p.b,{to:"/login",children:"Login"})})]})},ot="SET-USER-DATA",ct={userId:null,email:null,login:null,isAuth:!1},ut=function(e,t,n,s){return{type:ot,payload:{userId:e,email:t,login:n,isAuth:s}}},lt=function(){return function(){var e=Object(ue.a)(ce.a.mark((function e(t){var n,s,r,a,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:0===(n=e.sent).data.resultCode&&(s=n.data.data,r=s.id,a=s.login,i=s.email,t(ut(r,i,a,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ot:return Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},jt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(b.jsx)(it,Object(m.a)({},this.props))}}]),n}(r.a.Component),pt=Object(z.b)((function(e){return{isAuth:e.authR.isAuth,login:e.authR.login}}),{logout:function(){return function(){var e=Object(ue.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:0===e.sent.data.resultCode&&t(ut(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(jt),bt=k.a().shape({email:k.b().min(2,"Too Short!").max(50,"Too Long!").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0432\u0432\u043e\u0434\u0430"),password:k.b().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),ht=Object(z.b)((function(e){return{isAuth:e.authR.isAuth}}),{login:function(e,t,n,s){return function(){var r=Object(ue.a)(ce.a.mark((function r(a){var i;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,pe(e,t,n);case 2:0===(i=r.sent).data.resultCode?a(lt()):s(i.data.messages);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(b.jsx)(f.a,{to:"/profile"}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsx)(C.b,{initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(t,n){var s=n.setStatus;e.login(t.email,t.password,t.rememberMe,s)},validationSchema:bt,children:function(e){e.values,e.errors,e.touched;var t=e.handleChange,n=e.handleBlur,s=e.handleSubmit,r=(e.isSubmitting,e.isValid),a=e.dirty,i=e.status;return Object(b.jsxs)("form",{onSubmit:s,children:[Object(b.jsxs)("div",{children:[i,Object(b.jsx)(F,{as:"input",type:"email",name:"email",label:"Login"})]}),Object(b.jsxs)("div",{children:[i,Object(b.jsx)(F,{as:"input",type:"password",name:"password",label:"Password"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"checkbox",name:"rememberMe",onChange:t,onBlur:n}),"Remember me"]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",disabled:!r&&!a,children:"Login"})})]})}})]})})),gt="INITIALIZED_SUCCESS",ft={initialized:!1},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt:return Object(m.a)(Object(m.a)({},e),{},{initialized:!0});default:return e}},mt={},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return e},xt=n(116),Pt=Object(D.b)({profilePage:Ge,dialogsPages:P,sidebar:vt,userPages:Ne,authR:dt,app:Ot}),wt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.c,_t=Object(D.d)(Pt,wt(Object(D.c)(Object(D.a)(xt.a))));window._store_=_t;var St=_t,yt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsx)(pt,{}),Object(b.jsx)(g,{}),Object(b.jsxs)("div",{className:"app-wrapper-content",children:[Object(b.jsx)(f.b,{path:"/dialogs",render:function(){return Object(b.jsx)(M,{})}}),Object(b.jsx)(f.b,{path:"/profile/:userId?",render:function(){return Object(b.jsx)(st,{})}}),Object(b.jsx)(f.b,{path:"/users",render:function(){return Object(b.jsx)(Ae,{})}}),Object(b.jsx)(f.b,{path:"/login",render:function(){return Object(b.jsx)(ht,{})}})]})]}):Object(b.jsx)(Ee,{})}}]),n}(r.a.Component),Ct=Object(D.c)(f.f,Object(z.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(lt());Promise.all([t]).then((function(){e({type:gt})}))}}}))(yt),kt=function(e){return Object(b.jsx)(p.a,{children:Object(b.jsx)(z.a,{store:St,children:Object(b.jsx)(Ct,{})})})};i.a.render(Object(b.jsx)(kt,{}),document.getElementById("root"))},33:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1qZtD",dialogsItems:"Dialogs_dialogsItems__3XAdg",active:"Dialogs_active__3enpf",dialog:"Dialogs_dialog__2I4wp",messages:"Dialogs_messages__121E4",message:"Dialogs_message__3-_UJ"}},58:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__ETBmO",paginator:"Paginator_paginator__3XCMD",pageNumber:"Paginator_pageNumber___ucT0"}},69:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__1w9Tn",selectedPage:"Users_selectedPage__2jAfQ"}},74:function(e,t,n){e.exports={error:"FormControls_error__1A1gF",textError:"FormControls_textError__1je6p"}},76:function(e,t,n){e.exports={postBlock:"MyPosts_postBlock__2ZGRs"}},77:function(e,t,n){e.exports={header:"Header_header__tGfc_",item:"Header_item__ZGAGR",loginBlock:"Header_loginBlock__T9FH_"}}},[[246,1,2]]]);
//# sourceMappingURL=main.24a1d5d2.chunk.js.map